webpackJsonp([27],{HqbM:function(e,a,n){a=e.exports=n("I71c")(!0),a.push([e.i,".mrt[data-v-0a0a2bac]{margin-top:15px;max-height:800px}.el-row[data-v-0a0a2bac]{margin-bottom:0;&:last-child{margin-bottom:0}}.el-col[data-v-0a0a2bac]{height:3vh;border-radius:4px}.bg-purple-dark[data-v-0a0a2bac]{background:#99a9bf}.bg-purple[data-v-0a0a2bac]{text-align:left;color:#545454;font-family:\\\\5FAE\\8F6F\\96C5\\9ED1;line-height:3vh;padding-left:1vw;cursor:pointer;border-bottom:1px solid #545645}.bg-purple[data-v-0a0a2bac]:hover{text-decoration:underline;color:red}.bg-purple-light[data-v-0a0a2bac]{background:#e5e9f2}.grid-content[data-v-0a0a2bac]{border-radius:0}","",{version:3,sources:["C:/Users/pc/Desktop/monkey后台总代码/queyou/src/page/menu/menu.vue"],names:[],mappings:"AACA,sBAAsB,gBAAgB,gBAAkB,CACvD,AACD,yBACI,gBAAkB,AACtB,aACM,eAAiB,CACtB,CACA,AACD,yBACG,WAAY,AACX,iBAAmB,CACtB,AACD,iCACI,kBAAoB,CACvB,AACD,4BACG,gBAAiB,AACjB,cAAe,kCAAoB,gBAAiB,AAEnD,iBAAkB,AAClB,eAAgB,AAChB,+BAAiC,CACpC,AACD,kCAAkC,0BAA2B,SAAW,CACvE,AACD,kCACI,kBAAoB,CACvB,AACD,+BACG,eAAmB,CACrB",file:"menu.vue",sourcesContent:["\n.mrt[data-v-0a0a2bac]{margin-top:15px;max-height: 800px;\n}\n.el-row[data-v-0a0a2bac] {\r\n    margin-bottom:0vh;\n&:last-child {\r\n      margin-bottom: 0;\n}\n}\n.el-col[data-v-0a0a2bac] {\r\n  \theight: 3vh;\r\n    border-radius: 4px;\n}\n.bg-purple-dark[data-v-0a0a2bac] {\r\n    background: #99a9bf;\n}\n.bg-purple[data-v-0a0a2bac] {\r\n  \ttext-align: left;\r\n  \tcolor: #545454;font-family: '微软雅黑';line-height: 3vh;\r\n    /* background: #d3dce6; */\r\n    padding-left: 1vw;\r\n    cursor: pointer;\r\n    border-bottom: 1px solid #545645;\n}\n.bg-purple[data-v-0a0a2bac]:hover{text-decoration: underline;color: red;\n}\n.bg-purple-light[data-v-0a0a2bac] {\r\n    background: #e5e9f2;\n}\n.grid-content[data-v-0a0a2bac] {\r\n   border-radius: 0px;\n}\r\n"],sourceRoot:""}])},LVlJ:function(e,a,n){var l=n("HqbM");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);n("FIqI")("9f48cc2c",l,!0,{})},SFdj:function(e,a,n){"use strict";var l=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"menu_"},[n("el-col",{staticClass:"mrt",attrs:{span:12}},[n("el-tree",{ref:"tree",attrs:{data:e.data2,"show-checkbox":"","node-key":"id","highlight-current":"",props:e.defaultProps},on:{"check-change":e.ckchange,"current-change":e.curchange}})],1),e._v(" "),n("el-col",{attrs:{span:10,offset:2}},[n("el-row",[n("el-col",{staticStyle:{"text-align":"center","margin-bottom":"35px"},attrs:{span:24}},[n("h4",[e._v(e._s(e.edits))])])],1),e._v(" "),n("el-form",{attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.formLabelAlign}},[n("el-form-item",{attrs:{label:"菜单名称"}},[n("el-input",{model:{value:e.formLabelAlign.menu,callback:function(a){e.$set(e.formLabelAlign,"menu",a)},expression:"formLabelAlign.menu"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"路由地址"}},[n("el-input",{model:{value:e.formLabelAlign.route,callback:function(a){e.$set(e.formLabelAlign,"route",a)},expression:"formLabelAlign.route"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"父ID"}},[n("el-input",{model:{value:e.formLabelAlign.pid,callback:function(a){e.$set(e.formLabelAlign,"pid",a)},expression:"formLabelAlign.pid"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"图标"}},[n("el-input",{model:{value:e.formLabelAlign.ico,callback:function(a){e.$set(e.formLabelAlign,"ico",a)},expression:"formLabelAlign.ico"}})],1),e._v(" "),n("el-form-item",[n("el-button",{on:{click:e.resetForm}},[e._v("重置")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),n("el-button",{staticStyle:{float:"right"},attrs:{type:"danger"},on:{click:e.Delete}},[e._v("删除")])],1)],1)],1)],1)},o=[],t={render:l,staticRenderFns:o};a.a=t},YWUw:function(e,a,n){"use strict";function l(e){n("LVlJ")}Object.defineProperty(a,"__esModule",{value:!0});var o=n("tc2k"),t=n("SFdj"),i=n("Z0/y"),c=l,r=i(o.a,t.a,!1,c,"data-v-0a0a2bac",null);a.default=r.exports},tc2k:function(e,a,n){"use strict";var l=n("BMa3"),o=n.n(l),t=n("DEjr");n.n(t);a.a={name:"menu_",data:function(){return{data2:[],defaultProps:{children:"children",label:"label"},menuid:null,menuname:null,menupid:null,menuurl:null,edits:null,ids:null,labelPosition:"right",formLabelAlign:{pid:"",name:"",route:"",ico:"",id:null}}},methods:{Delete:function(){var e=this;o.a.get("http://monkey.queyoujia.com/access/menu/delete",{params:{id:e.ids}}).then(function(a){0==a.data.code?(e.$message({message:"删除成功",type:"success"}),o.a.get("http://monkey.queyoujia.com/access/menu/newlist",{params:{}}).then(function(a){e.data2=a.data.data.menu,e.data2.forEach(function(e,a){e.label=e.name+"("+e.id+")",e.children=e.child,e.children.length>0?(console.log(e.children),e.children.forEach(function(e,a){console.log(e),e.label=e.name})):console.log("nochild")})}).catch(function(e){console.log(e)})):e.$message({message:a.data.message,type:"warning"})}).catch(function(e){console.log(e)})},curchange:function(e,a){console.log(e);var n=this;n.ids=e.id,n.edits="修改菜单",n.formLabelAlign.menu=e.name,n.formLabelAlign.route=e.ui_sref,n.formLabelAlign.pid=e.pid,n.formLabelAlign.ico=e.icon,n.formLabelAlign.id=e.id},ckchange:function(e,a,n){var l=this;console.log(this.$refs.tree.getCheckedNodes()),l.edits="修改菜单",l.formLabelAlign.menu=e.name,l.formLabelAlign.route=e.ui_sref,l.formLabelAlign.pid=e.pid,l.formLabelAlign.ico=e.icon,l.formLabelAlign.id=e.id,l.ids=e.id},submitForm:function(){var e=this;if(console.log(12),"修改菜单"==e.edits)o.a.get("http://monkey.queyoujia.com/access/menu/update",{params:{icon:e.formLabelAlign.ico,id:e.formLabelAlign.id,name:e.formLabelAlign.menu,pid:e.formLabelAlign.pid,url:e.formLabelAlign.route,sid:"4edcb921b076802beda26abeae72f64d"}}).then(function(a){console.log(a),0==a.data.code?(e.$message({message:"修改成功",type:"success"}),e.edits="新增菜单",e.formLabelAlign.menu=null,e.formLabelAlign.route=null,e.formLabelAlign.pid=null,e.formLabelAlign.ico=null,o.a.get("http://monkey.queyoujia.com/access/menu/newlist",{params:{}}).then(function(a){e.data2=a.data.data.menu,e.data2.forEach(function(e,a){e.label=e.name+"("+e.id+")",e.children=e.child,e.children.length>0?(console.log(e.children),e.children.forEach(function(e,a){console.log(e),e.label=e.name})):console.log("nochild")})}).catch(function(e){console.log(e)})):e.$message({message:a.data.message,type:"info"})}).catch(function(e){console.log(e)});else{if("新增菜单"!=e.edits)return;o.a.get("http://monkey.queyoujia.com/access/menu/add",{params:{icon:e.formLabelAlign.ico,id:e.menuid,name:e.formLabelAlign.menu,pid:e.formLabelAlign.pid,url:e.formLabelAlign.route}}).then(function(a){console.log(a),0==a.data.code?(e.$message({message:"添加成功",type:"success"}),e.edits="新增菜单",e.formLabelAlign.menu=null,e.formLabelAlign.route=null,e.formLabelAlign.pid=null,e.formLabelAlign.ico=null,o.a.get("http://monkey.queyoujia.com/access/menu/newlist",{params:{}}).then(function(a){e.data2=a.data.data.menu,e.data2.forEach(function(e,a){e.label=e.name+"("+e.id+")",e.children=e.child,e.children.length>0?(console.log(e.children),e.children.forEach(function(e,a){console.log(e),e.label=e.name})):console.log("nochild")}),console.log(a)}).catch(function(e){console.log(e)})):e.$message({message:a.data.message,type:"info"})}).catch(function(e){console.log(e)})}},resetForm:function(){var e=this;e.edits="新增菜单",e.formLabelAlign.menu=null,e.formLabelAlign.route=null,e.formLabelAlign.pid=null,e.formLabelAlign.ico=null}},mounted:function(){var e=this;e.edits="新增菜单",o.a.get("http://monkey.queyoujia.com/access/menu/newlist",{params:{}}).then(function(a){e.data2=a.data.data.menu,console.log("sssss"),console.log(e.data2),e.data2.forEach(function(e,a){e.label=e.name+"("+e.id+")",e.children=e.child,e.children.length>0?(console.log(e.children),e.children.forEach(function(e,a){console.log(e),e.label=e.name})):console.log("nochild")}),console.log(a)}).catch(function(e){console.log(e)})}}}});
//# sourceMappingURL=27.5ee47ec3e3b71c55107d.js.map